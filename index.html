<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Mercado da esquina</title>
    <link rel="icon" type="image/x-icon" href="/assets/imgs/favicon.ico" />

    <!-- css do bootsstrap -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />

    <!-- css proprio -->
    <link rel="stylesheet" href="estilos.css" />

    <!-- js do boostrap -->
    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>
  </head>

  <!-- acessebilidade usei: -->

  <!-- 
  ERRO 1: Tag <img> sem o atributo texto alternativo (alt)  OK
  ERRO 3: cuidado com o placeholder Ok, deixei sempre também o label
  ERRO 4: texto em letras maiúsculas (leitores de tela podem ler erroneamente) OK, ajustei o título
  ERRO 5: Uso de expressões em inglês Ok, ajusti para o FAQ
  -->

  <body>
    <!-- para ficar "grudado", o navbar tem que ficar fora do header -->
    <nav class="navbar sticky-top navbar-expand-lg navbar-light navbar-rbv">
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="/ad_fundamentos_web_f2">Página inicial</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/ad_fundamentos_web_f2/historia"> Conheça a nossa <strong>história</strong> </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/ad_fundamentos_web_f2/midia">
              Saímos na <strong>mídia</strong>
              <span class="badge badge-secondary">Novo</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/ad_fundamentos_web_f2/sobre">Sobre</a>
          </li>
        </ul>
        <div>
          <!-- deixo em div pq se precisar de mais um botão já fica grudadinho -->
          <button type="button" class="btn btn-info" data-toggle="modal" data-target="#modal_cliente">Cadastro</button>
        </div>
      </div>
    </nav>

    <h1 class="text-center upper-case">Mercado da Esquina</h1>

    <hr />
    <main>
      <!-- se não colocar os paddings no div do jumbotron vai ficar muito grande  -->
      <div class="jumbotron jumbotron-fluid jumbo-rvb">
        <div class="container">
          <h4 class="display-4">Black Friday</h4>
          <p id="contador" class="lead"></p>
        </div>
      </div>

      <!-- produtos -->
      <div class="area" id="produtos">
        <h3 class="titulo">Produtos</h3>

        <!-- hortifruti  -->
        <div id="hortifruti" class="categoria-rvb">
          <h4>Frutas e Verduras</h4>
          <div class="container-fluid">
            <div class="row">
              <!-- produto 1   -->
              <div class="card card-rvb">
                <div class="altura-rvb"><img class="card-img-top" src="assets\imgs\maca.jpg" alt="maça" /></div>
                <div class="card-body">
                  <h5 class="card-title">Maça</h5>
                  <p class="card-text">Deliciosa maça</p>
                </div>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">R$ 5,00 kg</li>
                </ul>
                <ul class="list-group list-group-flush"></ul>

                <div class="card-body">
                  <a href="#" class="card-link">Adicionar ao carrinho</a>
                </div>
                <!-- fim do card -->
              </div>
              <!-- produto 2   -->
              <div class="card card-rvb">
                <div class="altura-rvb"><img class="card-img-top" src="assets\imgs\kiwi.jpeg" alt="kiwi" /></div>
                <div class="card-body">
                  <h5 class="card-title">Kiwi</h5>
                  <p class="card-text">Delicioso Kiwi</p>
                </div>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">R$ 6,00 kg</li>
                </ul>
                <ul class="list-group list-group-flush"></ul>

                <div class="card-body">
                  <a href="#" class="card-link">Adicionar ao carrinho</a>
                </div>
                <!-- fim do card -->
              </div>
              <!-- produto 3   -->
              <div class="card card-rvb">
                <div class="altura-rvb"><img class="card-img-top" src="assets\imgs\uva.jpeg" alt="uva" /></div>
                <div class="card-body">
                  <h5 class="card-title">Uva</h5>
                  <p class="card-text">Deliciosa uva</p>
                </div>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">R$ 7,00 kg</li>
                </ul>
                <ul class="list-group list-group-flush"></ul>

                <div class="card-body">
                  <a href="#" class="card-link">Adicionar ao carrinho</a>
                </div>
                <!-- fim do card -->
              </div>

              <!-- fim da linha -->
            </div>
          </div>
        </div>

        <!-- Alimentos não perecíveis  -->
        <div id="alim_n_pere" class="categoria-rvb">
          <h4>Alimentos não perecíveis</h4>
          <div class="container-fluid">
            <div class="row">
              <!-- produto 1   -->
              <div class="card card-rvb">
                <div class="altura-rvb"><img class="card-img-top" src="assets\imgs\arroz.jpeg" alt="arroz" /></div>
                <div class="card-body">
                  <h5 class="card-title">Arroz</h5>
                  <p class="card-text">Delicioso arroz</p>
                </div>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">R$ 5,00 kg</li>
                </ul>
                <ul class="list-group list-group-flush"></ul>

                <div class="card-body">
                  <a href="#" class="card-link">Adicionar ao carrinho</a>
                </div>
                <!-- fim do card -->
              </div>
              <!-- produto 2   -->
              <div class="card card-rvb">
                <div class="altura-rvb"><img class="card-img-top" src="assets\imgs\farinha.jpeg" alt="farinha" /></div>
                <div class="card-body">
                  <h5 class="card-title">Farinha</h5>
                  <p class="card-text">Deliciosa Farinha</p>
                </div>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">R$ 6,00 kg</li>
                </ul>
                <ul class="list-group list-group-flush"></ul>

                <div class="card-body">
                  <a href="#" class="card-link">Adicionar ao carrinho</a>
                </div>
                <!-- fim do card -->
              </div>
              <!-- produto 3   -->
              <div class="card card-rvb">
                <div class="altura-rvb"><img class="card-img-top" src="assets\imgs\sardinha.jpg" alt="sardinha" /></div>
                <div class="card-body">
                  <h5 class="card-title">Sardinha</h5>
                  <p class="card-text">Deliciosa Sardinha</p>
                </div>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">R$ 7,00</li>
                </ul>
                <ul class="list-group list-group-flush"></ul>

                <div class="card-body">
                  <a href="#" class="card-link">Adicionar ao carrinho</a>
                </div>
                <!-- fim do card -->
              </div>

              <!-- fim da linha -->
            </div>
          </div>
        </div>

        <!-- higiene e limpeza  -->
        <div id="higi_limp" class="categoria-rvb">
          <h4>Higiene e Limpeza</h4>
          <div class="container-fluid">
            <div class="row">
              <!-- produto 1   -->
              <div class="card card-rvb">
                <div class="altura-rvb"><img class="card-img-top" src="assets\imgs\escova.png" alt="escova" /></div>
                <div class="card-body">
                  <h5 class="card-title">Escova</h5>
                  <p class="card-text">Escova durável</p>
                </div>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">R$ 5,00</li>
                </ul>
                <ul class="list-group list-group-flush"></ul>

                <div class="card-body">
                  <a href="#" class="card-link">Adicionar ao carrinho</a>
                </div>
                <!-- fim do card -->
              </div>
              <!-- produto 2   -->
              <div class="card card-rvb">
                <div class="altura-rvb"><img class="card-img-top" src="assets\imgs\shampoo.jpg" alt="shampoo" /></div>
                <div class="card-body">
                  <h5 class="card-title">Shampoo</h5>
                  <p class="card-text">Shampoo prático</p>
                </div>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">R$ 3,30</li>
                </ul>
                <ul class="list-group list-group-flush"></ul>

                <div class="card-body">
                  <a href="#" class="card-link">Adicionar ao carrinho</a>
                </div>
                <!-- fim do card -->
              </div>
              <!-- produto 3   -->
              <div class="card card-rvb">
                <div class="altura-rvb"><img class="card-img-top" src="assets\imgs\veja.jpeg" alt="veja" /></div>
                <div class="card-body">
                  <h5 class="card-title">Veja</h5>
                  <p class="card-text">Veja multiuso</p>
                </div>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">R$ 4,30</li>
                </ul>
                <ul class="list-group list-group-flush"></ul>

                <div class="card-body">
                  <a href="#" class="card-link">Adicionar ao carrinho</a>
                </div>
                <!-- fim do card -->
              </div>

              <!-- fim da linha -->
            </div>
          </div>
        </div>
      </div>

      <!-- pode ter meio ficado confuso, mas tá junto para não ficar muito long a página com serviços e carossel -->
      <div class="area d-flex flex-column align-items-center" id="serviços">
        <div class="container-fluid margem-rvb">
          <div class="row justify-content-center">
            <div class="col-sm-8">
              <!-- serviços -->
              <h3 class="titulo text-center">Serviços</h3>
              <div class="container-fluid margem-rvb">
                <div class="row justify-content-center">
                  <!-- retirada -->
                  <div class="col-sm-6">
                    <div class="card card-rvb">
                      <div class="imagem-servico">
                        <img class="card-img-top w-100 h-100 imagem-servico" src="assets/imgs/retirada.jpeg" alt="retirar as compras" />
                      </div>

                      <div class="card-body">
                        <h5 class="card-title">Retirada</h5>
                        <p class="card-text">Gratuito</p>
                        <button onclick="servico('Retirada')" type="button" class="btn btn-primary" data-toggle="modal" data-target="#modal_entrega">
                          Retirada
                        </button>
                      </div>
                    </div>
                    <!-- fim servico -->
                  </div>

                  <!-- entrega -->
                  <div class="col-sm-6">
                    <div class="card">
                      <div class="imagem-servico">
                        <img class="card-img-top w-100 h-100 imagem-servico" src="assets/imgs/entrega.jpeg" alt="entrega dos produtos" />
                      </div>

                      <div class="card-body">
                        <h5 class="card-title">Entrega</h5>
                        <p class="card-text">R$5,00 a cada 10 KM</p>
                        <button onclick="servico('Entrega')" type="button" class="btn btn-primary" data-toggle="modal" data-target="#modal_entrega">
                          Entrega
                        </button>
                      </div>
                    </div>
                  </div>
                  <!-- fim servico -->
                </div>
              </div>
              <!-- fim serviços -->
            </div>

            <!-- carrosel -->
            <div class="col-sm-4">
              <h3 class="titulo text-center">Nossas Lojas</h3>
              <div style="margin-bottom: 2rem" ; class="container-fluid margem-rvb">
                <div class="row justify-content-center">
                  <div id="carouselExampleIndicators" class="carousel slide" style="max-width: 700px" data-ride="carousel">
                    <ol class="carousel-indicators">
                      <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                      <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                      <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                    </ol>
                    <div class="carousel-inner">
                      <div class="carousel-item active">
                        <img class="d-block w-100 imagem-carrousel" src="assets/imgs/loja1.jpeg" alt="fachada loja 1" />
                      </div>
                      <div class="carousel-item">
                        <img class="d-block w-100 imagem-carrousel" src="assets/imgs/loja2.jpg" alt="fachada loja 2" />
                      </div>
                      <div class="carousel-item">
                        <img class="d-block w-100 imagem-carrousel" src="assets/imgs/loja3.jpg" alt="fachada loja 3" />
                      </div>
                    </div>
                    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                      <span
                        class="carousel-control-prev-icon"
                        aria-hidden="true"
                        style="filter: invert(40%) sepia(100%) saturate(500%) hue-rotate(180deg)"
                      ></span>
                      <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                      <span
                        class="carousel-control-next-icon"
                        aria-hidden="true"
                        style="filter: invert(40%) sepia(100%) saturate(500%) hue-rotate(180deg)"
                      ></span>
                      <span class="sr-only">Next</span>
                    </a>
                  </div>
                </div>
              </div>
            </div>
            <!-- fim carrosel -->
          </div>
        </div>
      </div>
    </main>

    <!-- Modal do Cadastro -->
    <div class="modal fade" id="modal_cliente" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Cadastro Cliente</h5>
          </div>

          <!-- 
            Formulário de cadastro do cliente:
            Elabore um formulário contendo os dados de identificação do cliente,
            tais como: nome (ok), endereço (ok), CPF (ok), sexo (ok), telefone (ok), e-mail (ok), etc.
            Utilize elementos variados no formulário e atributos, como: input (ok), checkbox, number, e-mail (ok), radio button (ok), 
            placeholder (ok), campos obrigatórios (ok), etc.
            Obs.: Para desenvolver esta parte, consulte a Aula 6.
          -->

          <div class="modal-body">
            <form id="cadastro_cliente">
              <div class="form-row">
                <!-- o que faz o tamanho aqui é o 6 colunas -->
                <div class="form-group col-md-6">
                  <label for="nome">Nome</label>
                  <input type="text" class="form-control" id="nome" name="nome" placeholder="Digite o seu nome" required />
                </div>
                <div class="form-group col-md-6">
                  <label for="cpf">CPF</label>
                  <input type="text" class="form-control" id="cpf" placeholder="Digite o seu CPF" required />
                </div>
              </div>
              <div class="form-group">
                <label for="endereco1">Endereço 1</label>
                <input type="text" class="form-control" id="endereco1" placeholder="Endereço 1..." />
              </div>
              <div class="form-group">
                <label for="endereco2">Endereço 2</label>
                <input type="text" class="form-control" id="endereco2" placeholder="Endereço 2..." />
              </div>
              <div class="form-row">
                <div class="form-group col-md-4">
                  <label>Escolha o sexo</label>

                  <div class="form-check form-check-inline">
                    <!-- ter o mesmo nome é o que impede de escolher mais de um ao mesmo tempo -->
                    <input class="form-check-input" type="radio" id="masculino" value="option1" name="sexo" />
                    <label class="form-check-label" for="masculino">M</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" id="feminino" value="option2" name="sexo" />
                    <label class="form-check-label" for="feminino">F</label>
                  </div>
                </div>
                <div class="form-group col-md-6">
                  <label for="tel">Telefone</label>
                  <input type="tel" class="form-control" id="tel" placeholder="(XX) XXXX-XXXX" required />
                </div>
              </div>
              <div class="form-group">
                <label for="email">Email</label>
                <input type="email" class="form-control" id="email" placeholder="email@provedor.com" />
              </div>

              <div class="form-row">
                <div class="form-group col-md-4">
                  <label for="familia">Tamanho família</label>

                  <input type="number" id="familia" name="familia" min="1" max="100" value="2" />
                </div>
                <div class="form-group col-md-6">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="gridCheck" />
                    <label class="form-check-label" for="gridCheck"> Desejo receber ofertas </label>
                  </div>
                </div>
              </div>

              <button type="submit" class="btn btn-success">
                <!-- se eu colocar o data-dismiss aqui não vai funcionar a validação, tem que ser por js -->
                Cadastrar
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal da Entrega -->
    <div class="modal fade" id="modal_entrega" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="servico">Cadastro Cliente</h5>
          </div>

          <div class="modal-body">
            <form id="entrega">
              <div class="form-row">
                <!-- ter o valor escondido apra posterimente passar para o backend -->
                <input type="hidden" class="form-control" id="tipo_servico" name="servico" />
                <!-- o que faz o tamanho aqui é o 6 colunas -->
                <div class="form-group col-md-6">
                  <label for="data_entrega">Data e hora:</label>
                  <input type="datetime-local" id="data_entrega" name="data_entrega" />
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <nav class="navbar sticky-top navbar-expand-lg navbar-light navbar-rbv">
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link" href="#produtos">Produtos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#servicos">Serviços</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="mailto:mercado@esquina.com?subject=Contato">Contato</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/ad_fundamentos_web_f2/faq"
                ><abbr title="Perguntas frequentes"><span lang="“eng-us”">Frequently asked questions</span></abbr></a
              >
            </li>
          </ul>
        </div>
        <span class="navbar-text"> Feito por Ricardo Bassanesi</span>
      </nav>
    </footer>
  </body>

  <script>
    //ele precisa estar aembaixo para pegar os elementos do html, se for carregado antes o script n pega
    const form = document.getElementById("cadastro_cliente");

    form.addEventListener("submit", function (e) {
      const modalEl = document.getElementById("modal_cliente");
      $(modalEl).modal("hide");

      alert("Cadastro concluído");

      e.preventDefault();
      e.stopPropagation();

      //envia para o backend
    });

    function servico(servico) {
      document.getElementById("servico").innerHTML = servico;
      document.getElementById("tipo_servico").value = servico;
    }

    //função para preencher o horário atual na data de entrega/retirada

    function toLocalISOString(date) {
      const localDate = new Date(date - date.getTimezoneOffset() * 60000); //offset in milliseconds. Credit https://stackoverflow.com/questions/10830357/javascript-toisostring-ignores-timezone-offset

      localDate.setHours(localDate.getHours() + 2);

      // Optionally remove second/millisecond if needed
      localDate.setSeconds(null);
      localDate.setMilliseconds(null);
      return localDate.toISOString().slice(0, -1);
    }

    //isso faz com que ao carregar já preencha
    window.addEventListener("load", () => {
      document.getElementById("data_entrega").value = toLocalISOString(new Date());
    });

    //timer

    function contagem(dataAlvo) {
      //hora alvo em milisegundos
      var horaBlackFriday = dataAlvo.getTime();
      //hora atual em milisegundos
      var horaAtual = new Date().getTime();

      var distancia = horaBlackFriday - horaAtual;

      if (distancia < 0) {
        return "Já passo!";
      }

      var dias = Math.floor(distancia / (1000 * 60 * 60 * 24));
      var horas = Math.floor((distancia % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      var minutos = Math.floor((distancia % (1000 * 60 * 60)) / (1000 * 60));
      var segundos = Math.floor((distancia % (1000 * 60)) / 1000);

      return `Faltam apenas ${dias}d ${horas}h ${minutos}m ${segundos}s para a Black-Friday`;
    }

    function contagemBlackFriday() {
      var blackFriday = new Date("2025-11-28");
      var texto = contagem(blackFriday);

      document.getElementById("contador").innerHTML = texto;
    }

    setInterval(contagemBlackFriday, 500);
  </script>
</html>
